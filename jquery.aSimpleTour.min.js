!function($){var settings={data:[],autoStart:!1,controlsPosition:"TR",useOverlay:!0,overlayZindex:10,welcomeMessage:"<h2>Tour</h2><p>Welcome to the Tour Plugin</p>",buttons:{next:{text:"Next","class":""},prev:{text:"Previous","class":""},start:{text:"Start","class":""},end:{text:"End","class":""}},controlsCss:{background:"rgba(8, 68, 142, 0.80)",color:"#fff"},tooltipCss:{background:"rgba(0, 0, 0, 0.70)",color:"#fff"}},options,step,steps,ew,eh,el,et,started=!1,$overlay,$tooltip=$("<div>",{id:"tourtip",className:"tourtip",html:""}).css({display:"none",padding:"10px 20px",position:"absolute","font-family":"sans-serif","border-radius":"5px","font-size":"12px","box-sizing":"border-box","z-index":"2000"}),methods={init:function(t,o){options=$.extend(settings,t),o="undefined"==typeof o?null:o-1,0==started&&(started=!0,options.data.unshift({element:"body",tooltip:null,text:options.welcomeMessage}),controls='<div id="tourControls">                  <div id="tourText">'+options.welcomeMessage+'</div>                  <div id="tourButtons">                    <button id="tourPrev" style="display:none" class="'+options.buttons.prev["class"]+'">'+options.buttons.prev.text+'</button>                    <button id="tourNext" class="'+options.buttons.start["class"]+'">'+options.buttons.start.text+'</button>                    <button id="tourEnd" style="display:none" class="'+options.buttons.end["class"]+'">'+options.buttons.end.text+"</button>                  </div>                </div>",$controlsCss={display:"block",position:"fixed",width:"200px",padding:"10px 20px","border-radius":"10px","font-family":"sans-serif","z-index":"1000"},$controls=$(controls).css($controlsCss).css(options.controlsCss),$cpos=methods.getControlPosition(options.controlsPosition),$controls.css($cpos),$("body").append($controls),$tooltip.css(options.tooltipCss),step=0,steps=options.data.length,$("body").prepend($tooltip)),null!=o&&(step=o,stepData=options.data[o],methods.setTooltip(step,stepData)),methods.bindElements()},next:function(){step>-1&&options.data[step].hasOwnProperty("location")&&"undefined"!=typeof options.data[step].location?location.href=options.data[step].location:(step++,step==steps?methods.destroy():($tooltip.hide(),stepData=options.data[step],methods.setTooltip(step,stepData)))},prev:function(){$tooltip.hide(),0>=step?step--:(step--,stepData=options.data[step],methods.setTooltip(step,stepData))},setTooltip:function(t,o){options.useOverlay&&($overlay||($overlay=$('<div id="touroverlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: '+options.overlayZindex+'; background-color: rgba(0,0,0,0.5);">')),$("body").append($overlay)),$previousElement=$(options.data[t-1].element),"undefined"!=typeof $previousElement.data("tour-data")&&(previous_data=$previousElement.data("tour-data"),$previousElement.css("position",previous_data.position),$previousElement.css("z-index",previous_data.zindex)),$element=$(o.element).eq(0),tour_data={zindex:$element.css("z-index"),position:$element.css("position"),"background-color":$element.css("background-color")},$element.data("tour-data",tour_data),$element.css("position","relative").css("z-index",1e3),options.useOverlay&&(bgc="transparent"==$element.css("background-color")?methods.findParentBg($element):$element.css("background-color"),$element.css("background-color",bgc)),"undefined"!=typeof o.callback&&"function"==typeof o.callback&&o.callback(),o.controlsPosition&&methods.setControlsPosition(o.controlsPosition),null!=o.tooltip&&($tooltip.html(o.tooltip),o.text&&$("#tourText").html(o.text),tooltipPos="undefined"==typeof o.position?"BL":o.position,$pos=methods.getTooltipPosition(tooltipPos,$element),$tooltip.css({top:$pos.top+"px",left:$pos.left+"px"}),$tooltip.show("fast"),$.scrollTo($tooltip,200,{offset:-100})),t==steps&&methods.destroy(),methods.showHideButtons()},setControlsPosition:function(t){chtml=$controls.html(),$controls.remove(),$controls=$(controls).html(chtml),$controls=$controls.css($controlsCss).css(options.controlsCss),position=methods.getControlPosition(t),$controls.css(position),$("body").append($controls)},getTooltipPosition:function(t,o){switch(ew=$element.outerWidth(),eh=$element.outerHeight(),el=$element.offset().left,et=$element.offset().top,tw=$tooltip.width()+parseInt($tooltip.css("padding-left"))+parseInt($tooltip.css("padding-right")),th=$tooltip.height()+parseInt($tooltip.css("padding-top"))+ +parseInt($tooltip.css("padding-bottom")),$(".tourArrow").remove(),tbg=$tooltip.css("background-color"),$upArrow=$('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-left":"5px solid transparent","border-right":"5px solid transparent","border-bottom":"5px solid "+tbg}),$downArrow=$('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-left":"5px solid transparent","border-right":"5px solid transparent","border-top":"5px solid "+tbg}),$rightArrow=$('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-top":"5px solid transparent","border-bottom":"5px solid transparent","border-left":"5px solid "+tbg}),$leftArrow=$('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-top":"5px solid transparent","border-bottom":"5px solid transparent","border-right":"5px solid "+tbg}),t){case"BL":position={left:el,top:et+eh+10},$upArrow.css({top:"-5px",left:"48%"}),$tooltip.prepend($upArrow);break;case"BR":position={left:el+ew-tw,top:et+eh+10},$upArrow.css({top:"-5px",left:"48%"}),$tooltip.prepend($upArrow);break;case"TL":position={left:el,top:et-th-10},$downArrow.css({top:th,left:"48%"}),$tooltip.append($downArrow);break;case"TR":position={left:el+ew-tw,top:et-th-10},$downArrow.css({top:th,left:"48%"}),$tooltip.append($downArrow);break;case"RT":position={left:el+ew+10,top:et},$leftArrow.css({left:"-5px"}),$tooltip.prepend($leftArrow);break;case"RB":position={left:el+ew+10,top:et+eh-th},$leftArrow.css({left:"-5px"}),$tooltip.prepend($leftArrow);break;case"LT":position={left:el-tw-10,top:et},$rightArrow.css({right:"-5px"}),$tooltip.prepend($rightArrow);break;case"LB":position={left:el-tw-10,top:et+eh-th},$rightArrow.css({right:"-5px"}),$tooltip.prepend($rightArrow);break;case"B":position={left:el+ew/2-tw/2,top:et+eh+10},$upArrow.css({top:"-5px",left:"48%"}),$tooltip.prepend($upArrow);break;case"L":position={left:el-tw-10,top:et+eh/2-th/2},$rightArrow.css({right:"-5px"}),$tooltip.prepend($rightArrow);break;case"T":position={left:el+ew/2-tw/2,top:et-th-10},$downArrow.css({top:th,left:"48%"}),$tooltip.append($downArrow);break;case"R":position={left:el+ew+10,top:et+eh/2-th/2},$leftArrow.css({left:"-5px"}),$tooltip.prepend($leftArrow)}return position},getControlPosition:function(t){switch(t){case"TR":t={top:"10px",right:"10px"};break;case"TL":t={top:"10px",left:"10px"};break;case"BL":t={bottom:"10px",left:"10px"};break;case"BR":t={bottom:"10px",right:"10px"}}return t},showHideButtons:function(){steps>step&&$("#tourNext").show().html(options.buttons.next.text),0>=step&&($("#tourPrev").hide(),$("#tourEnd").hide(),$("#tourNext").html(options.buttons.start.text).attr("class",options.buttons.start["class"])),steps>=step&&step>0&&($("#tourPrev").show(),$("#tourEnd").show(),$("#tourNext").show().html(options.buttons.next.text).attr("class",options.buttons.next["class"]))},findParentBg:function(t){for(;"transparent"==t.css("background-color");)t=t.parent();return t.css("background-color")},destroy:function(){$("#tourControls").remove(),$("#tourtip").remove(),$tooltip.css({display:"none"}).html(""),step=-1,started=!1,options.useOverlay&&$overlay.remove()},bindElements:function(){$("body").on("click","#tourNext",function(){methods.next()}),$("body").on("click","#tourPrev",function(){methods.prev()}),$("body").on("click","#tourEnd",function(){methods.destroy()}),$("body").on("keydown",function(t){37==t.keyCode&&methods.prev(),39==t.keyCode&&methods.next(),27==t.keyCode&&methods.destroy()})}};$.fn.aSimpleTour=function(o){return t=this,methods[o]?methods[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void $.error("Method "+o+" does not exist on jQuery.aSimpleTour"):methods.init.apply(this,arguments)},$(window).load(function(){tourStep=window.location.hash.substr(1).split("="),"undefined"!=typeof eval(tourStep[0])&&"undefined"!=typeof eval(tourStep[1])&&$.aSimpleTour(eval(tourStep[0]),tourStep[1])})}(jQuery),$.aSimpleTour=function(t,o){return $.fn.aSimpleTour(t,o),this};